(this["webpackJsonpreact-minesweeper"]=this["webpackJsonpreact-minesweeper"]||[]).push([[0],[,,,,function(e,t,n){e.exports={game:"Game_game__3xNfH",modalBox:"Game_modalBox__2eRNT",header:"Game_header__3yT7E",messageBox:"Game_messageBox__qexnb",message:"Game_message__BGu3l",button:"Game_button__2wvV-"}},function(e,t,n){e.exports={cell:"Cell_cell__2d5QO",opened:"Cell_opened__5z0i0",front:"Cell_front__2NkWz",back:"Cell_back__1gj64",bomb:"Cell_bomb__11kX2",flag:"Cell_flag__27t8v",fall:"Cell_fall__2MwUD"}},,,function(e,t,n){e.exports={field:"Field_field__9aTdZ"}},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a),r=n(7),i=n.n(r),s=(n(13),n(14),n(1)),c=n(4),o=n.n(c),u=n(3),d=n(8),m=n.n(d),f=n(5),b=n.n(f),g=n.p+"static/media/bomb.0d7f7f7c.svg",j=n.p+"static/media/flag.f69a6237.svg",v=n(0),O=function(e){return Object(v.jsxs)("div",{className:e.isOpened?"".concat(b.a.cell," ").concat(b.a.opened):b.a.cell,onClick:function(){if(!e.isOpened&&!e.isFlagged){if(null===e.value)return e.timerId||e.startTimer(),void e.openBlank(e.position);if("\ud83d\udca3"===e.value)return void e.loseGame(e.position);e.openCell(e.position),e.timerId||e.startTimer()}},onContextMenu:function(t){if(t.preventDefault(),!e.isOpened){if(e.isFlagged)return void e.removeFlag(e.position);e.setFlag(e.position)}},children:[Object(v.jsx)("div",{className:b.a.front,children:Object(v.jsx)("img",{className:b.a.flag,style:e.isFlagged?{}:{display:"none"},src:j,alt:"flag"})}),Object(v.jsx)("div",{className:b.a.back,style:e.isSelected?{backgroundColor:"red"}:{},children:"\ud83d\udca3"===e.value?Object(v.jsx)("img",{className:b.a.bomb,src:g,alt:"bomb"}):e.value})]})},p=function(e){return Object(v.jsx)(v.Fragment,{children:e.cells.map((function(t,n){return Object(v.jsx)(O,{position:[e.index,n],value:t.value,isOpened:t.isOpened,isFlagged:t.isFlagged,isSelected:t.isSelected,openCell:e.openCell,openBlank:e.openBlank,loseGame:e.loseGame,setFlag:e.setFlag,removeFlag:e.removeFlag,timerId:e.timerId,startTimer:e.startTimer},n)}))})},_=function(e){var t=function(t){var n=Object(s.a)(t,2),a=n[0],l=n[1];(function(t){var n=Object(s.a)(t,2),a=n[0],l=n[1];return!e.field.some((function(e,t){return e.some((function(e,n){return(t!==a||n!==l||"\ud83d\udca3"===e.value||null===e.value)&&"\ud83d\udca3"!==e.value&&!e.isOpened}))}))})([a,l])&&function(){var t=setTimeout((function(){clearInterval(e.timerId),e.setIsWinning(!0),clearTimeout(t)}),500)}(),e.setField(e.field.map((function(e,t){return e.map((function(e,n){return t===a&&n===l?Object(u.a)(Object(u.a)({},e),{},{isOpened:!0}):e}))})))},n=function(t){var n=Object(s.a)(t,2),a=n[0],l=n[1],r=e.field.map((function(e){return e.map((function(e){return e}))}));r[a][l].isOpened=!0;var i=0;!function e(t){for(var n=Object(s.a)(t,2),a=n[0],l=n[1],c=0,o=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];c<o.length;c++){var u=Object(s.a)(o[c],2),d=u[0],m=u[1];if(!(a+m<0||a+m>=r.length||l+d<0||l+d>=r[a].length||r[a+m][l+d].isOpened))switch(r[a+m][l+d].value){case null:r[a+m][l+d].isFlagged&&(i+=1,r[a+m][l+d].isFlagged=!1),r[a+m][l+d].isOpened=!0,e([a+m,l+d]);break;case"\ud83d\udca3":continue;default:r[a+m][l+d].isFlagged&&(i+=1,r[a+m][l+d].isFlagged=!1),r[a+m][l+d].isOpened=!0}}}([a,l]),e.setFlagsCount(e.flags+i),e.setField(r)},a=function(t){var n=Object(s.a)(t,2),a=n[0],l=n[1];clearInterval(e.timerId);var r=e.field.map((function(e){return e.map((function(e){return e}))}));r=function(e,t){var n=Object(s.a)(t,2),a=n[0],l=n[1];return e.map((function(e,t){return e.map((function(e,n){return a===t&&l===n?Object(u.a)(Object(u.a)({},e),{},{isSelected:!0}):e}))}))}(r=r.map((function(e){return e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{isOpened:!0})}))})),[a,l]),e.setField(r);var i=setTimeout((function(){e.setIsLosing(!0),clearTimeout(i)}),1e3)},l=function(t){var n=Object(s.a)(t,2),a=n[0],l=n[1];e.setField(e.field.map((function(e,t){return e.map((function(e,n){return a===t&&l===n?Object(u.a)(Object(u.a)({},e),{},{isFlagged:!0}):e}))}))),e.setFlagsCount(e.flags-1)},r=function(t){var n=Object(s.a)(t,2),a=n[0],l=n[1];e.setField(e.field.map((function(e,t){return e.map((function(e,n){return a===t&&l===n?Object(u.a)(Object(u.a)({},e),{},{isFlagged:!1}):e}))}))),e.setFlagsCount(e.flags+1)};return Object(v.jsx)("div",{className:m.a.field,children:e.field.map((function(i,s){return Object(v.jsx)(p,{index:s,cells:i,openCell:t,openBlank:n,loseGame:a,setFlag:l,removeFlag:r,timerId:e.timerId,startTimer:e.startTimer},s)}))})},h=function(e){var t=Object(a.useState)(e.bombs),n=Object(s.a)(t,2),l=n[0],r=n[1],i=Object(a.useState)(!1),c=Object(s.a)(i,2),u=c[0],d=c[1],m=Object(a.useState)(!1),f=Object(s.a)(m,2),b=f[0],g=f[1],j=Object(a.useState)(0),O=Object(s.a)(j,2),p=O[0],h=O[1],x=Object(a.useState)(null),F=Object(s.a)(x,2),C=F[0],N=F[1],I=function(e){var t=Math.floor(Math.random()*e.length),n=e[t];return[t,Math.floor(Math.random()*n.length)]},k=function(e,t,n){var a=0;return t-1>=0&&(n-1>=0&&"\ud83d\udca3"===e[t-1][n-1].value&&(a+=1),"\ud83d\udca3"===e[t-1][n].value&&(a+=1),n+1<e[t].length&&"\ud83d\udca3"===e[t-1][n+1].value&&(a+=1)),t+1<e.length&&(n-1>=0&&"\ud83d\udca3"===e[t+1][n-1].value&&(a+=1),"\ud83d\udca3"===e[t+1][n].value&&(a+=1),n+1<e[t].length&&"\ud83d\udca3"===e[t+1][n+1].value&&(a+=1)),n-1>=0&&"\ud83d\udca3"===e[t][n-1].value&&(a+=1),n+1<e[t].length&&"\ud83d\udca3"===e[t][n+1].value&&(a+=1),0===a?null:a},T=function(){var t=Array.from(Array(e.rows),(function(){return Array.from(Array(e.columns),(function(){return{value:null,isOpened:!1,isFlagged:!1,isSelected:!1}}))}));return t=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)if("\ud83d\udca3"!==e[t][n].value){var a=k(e,t,n);e[t][n].value=0===a?null:a}return e}(t=function(t){for(var n=0;n<e.bombs;n++){for(var a=I(t),l=Object(s.a)(a,2),r=l[0],i=l[1];"\ud83d\udca3"===t[r][i].value;){var c=I(t),o=Object(s.a)(c,2);r=o[0],i=o[1]}t[r][i].value="\ud83d\udca3"}return t}(t))},B=Object(a.useState)(T()),S=Object(s.a)(B,2),G=S[0],y=S[1];return Object(v.jsxs)("div",{className:o.a.game,children:[Object(v.jsxs)("header",{className:o.a.header,children:[Object(v.jsxs)("div",{className:o.a.flagsCounter,children:["Flags remaining: ",l]}),Object(v.jsx)("div",{className:o.a.counter,children:function(e){return e<10?"00".concat(e):e<100?"0".concat(e):e>999?999:e}(p)})]}),Object(v.jsx)(_,{field:G,setField:y,flags:l,setFlagsCount:r,setIsWinning:g,setIsLosing:d,timerId:C,startTimer:function(){N(setInterval((function(){h((function(e){return e+1}))}),1e3))}}),u||b?Object(v.jsx)("div",{className:o.a.modalBox,children:Object(v.jsxs)("div",{className:o.a.messageBox,children:[Object(v.jsx)("h1",{className:o.a.message,children:b?"You Win":"You Lose"}),Object(v.jsx)("button",{className:o.a.button,onClick:function(){r(e.bombs),d(!1),g(!1),h(0),N(null),y(T())},children:"Play again"})]})}):""]})};var x=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(h,{rows:8,columns:10,bombs:10})})};i.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(x,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.ab913952.chunk.js.map